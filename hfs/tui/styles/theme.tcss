/* HFS Theme Stylesheet
 *
 * This stylesheet defines the visual styling for the HFS terminal UI.
 * It follows a minimal, clean aesthetic similar to Claude Code, OpenCode,
 * and Gemini CLI - maximizing space for content with subtle visual cues.
 *
 * Color variables are defined in theme.py and available via:
 * - $primary, $secondary, $accent (amber/yellow palette)
 * - $hfs-hierarchical, $hfs-dialectic, $hfs-consensus (triad colors)
 * - $surface, $panel, $background (dark theme surfaces)
 */

/* ==========================================================================
   Screen and Layout
   ========================================================================== */

Screen {
    background: $background;
}

/* Chat screen - no header to maximize chat space */
ChatScreen {
    layout: grid;
    grid-size: 1;
    grid-rows: 1fr auto auto;
}

/* ==========================================================================
   Message List
   ========================================================================== */

MessageList {
    height: 100%;
    scrollbar-gutter: stable;
    scrollbar-size: 1 1;
    padding: 0 1;
    border: none;
}

MessageList:focus {
    border: none;
}

/* ==========================================================================
   Chat Messages
   ========================================================================== */

ChatMessage {
    height: auto;
    width: 100%;
    padding: 1 2;
    margin: 0 0 1 0;
    background: transparent;
}

/* User messages - subtle surface background */
ChatMessage.user-message {
    background: $surface;
    border-left: solid $secondary 2;
}

/* Assistant messages - left border accent */
ChatMessage.assistant-message {
    background: $panel;
    border-left: solid $primary 2;
}

/* System messages - italic with warning color accent */
ChatMessage.system-message {
    background: $surface;
    border-left: solid $warning 2;
}

/* Message role labels */
.message-role {
    text-style: bold;
    margin: 0 0 0 0;
}

.message-role.user-role {
    color: $secondary;
}

.message-role.assistant-role {
    color: $primary;
}

.message-role.system-role {
    color: $warning;
}

/* Message content area */
.message-content {
    height: auto;
    width: 100%;
    padding: 0 0 0 0;
    margin: 0;
}

/* ==========================================================================
   Chat Input
   ========================================================================== */

ChatInput {
    height: auto;
    max-height: 10;
    min-height: 3;
    border: solid $hfs-border;
    padding: 0 1;
    margin: 0 1;
    background: $surface;
}

ChatInput:focus {
    border: solid $primary;
    background: $panel;
}

/* ==========================================================================
   Status Bar
   ========================================================================== */

HFSStatusBar {
    height: 1;
    dock: bottom;
    background: $surface;
    padding: 0 1;
    border-top: solid $hfs-border;
}

.status-section {
    height: 1;
    width: auto;
    padding: 0 1;
}

.status-model {
    color: $primary;
}

.status-tokens {
    color: $hfs-muted;
}

.status-agents {
    color: $accent;
}

/* ==========================================================================
   Pulsing Dot / Streaming Indicator
   ========================================================================== */

PulsingDot {
    height: 1;
    width: auto;
    min-width: 3;
    padding: 0 1;
    color: $primary;
}

PulsingDot.active {
    text-style: bold;
}

/* ==========================================================================
   Triad Type Colors
   ========================================================================== */

/* Hierarchical triad elements - blue */
.triad-hierarchical {
    color: $hfs-hierarchical;
    border-left: solid $hfs-hierarchical 2;
}

/* Dialectic triad elements - purple */
.triad-dialectic {
    color: $hfs-dialectic;
    border-left: solid $hfs-dialectic 2;
}

/* Consensus triad elements - green */
.triad-consensus {
    color: $hfs-consensus;
    border-left: solid $hfs-consensus 2;
}

/* ==========================================================================
   Markdown Content Styling
   ========================================================================== */

Markdown {
    padding: 0;
    margin: 0;
}

/* Code blocks in messages */
MarkdownFence {
    background: $background;
    border: solid $hfs-border;
    padding: 1;
    margin: 1 0;
}

/* Inline code */
Markdown > .code_inline {
    background: $background;
    color: $accent;
}

/* Headers in markdown */
Markdown > .h1 {
    color: $primary;
    text-style: bold;
}

Markdown > .h2 {
    color: $primary;
    text-style: bold;
}

Markdown > .h3 {
    color: $secondary;
    text-style: bold;
}

/* ==========================================================================
   Footer and Keybindings
   ========================================================================== */

Footer {
    height: 1;
    dock: bottom;
    background: $surface;
}

FooterKey {
    background: $surface;
}

FooterKey > .footer-key--key {
    color: $primary;
    background: $panel;
}

FooterKey > .footer-key--description {
    color: $foreground;
}

/* ==========================================================================
   Welcome Screen (scaffold fallback)
   ========================================================================== */

#welcome {
    width: auto;
    height: auto;
    padding: 2 4;
    border: solid $primary;
    text-align: center;
    background: $surface;
}

/* ==========================================================================
   Inspection Mode
   ========================================================================== */

InspectionScreen {
    layout: horizontal;
}

#inspection-sidebar {
    width: 16;
    background: $surface;
    border-right: solid $hfs-border;
    padding: 1;
}

#inspection-content {
    width: 1fr;
    height: 100%;
}

.nav-button {
    width: 100%;
    margin: 0 0 1 0;
    background: $panel;
}

.nav-button:hover {
    background: $surface;
}

.nav-button.-active {
    background: $primary;
    color: $background;
    text-style: bold;
}

/* Tree styles */
AgentTreeWidget {
    height: 100%;
    padding: 1;
}

/* Token breakdown styles */
TokenBreakdown {
    height: 100%;
}

/* Timeline styles */
TraceTimelineWidget {
    padding: 1;
}

.timeline-header {
    text-style: bold;
    color: $primary;
    margin: 0 0 1 0;
}

.timeline-row {
    height: 1;
}
